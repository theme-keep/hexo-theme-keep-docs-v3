import{_ as e,v as o,b as c,R as d}from"./chunks/framework.70afa331.js";const h=JSON.parse('{"title":"平滑升级","description":"","frontmatter":{},"headers":[],"relativePath":"advanced/theme-upgrade.md","filePath":"advanced/theme-upgrade.md","lastUpdated":1691997206000}'),a={name:"advanced/theme-upgrade.md"},t=d('<h1 id="平滑升级" tabindex="-1">平滑升级 <a class="header-anchor" href="#平滑升级" aria-label="Permalink to &quot;平滑升级&quot;">​</a></h1><p>更新 Hexo 主题时，一般都会有这样的经历：先将主题目录下的<code> _config.yml</code> 文件备份，更新完主题后，再将备份的数据复制粘贴还原回去。</p><p>这个过程繁琐又浪费时间，因此我们需要一种友好的更新方式。如果你也经历着这样的痛苦，那么不妨尝试 Hexo 3.0 新增的功能 -- <a href="https://hexo.io/zh-cn/docs/data-files" target="_blank" rel="noreferrer">数据文件</a>。</p><p>Keep 主题利用该功能实现了平滑升级的特性，使用步骤如下： 将主题目录下的 <code>_config.yml</code> 文件复制到博客根目录下的 <code>/source/_data/</code> 中，并重命名为 <code>keep.yml</code>。如果 <code>source</code> 目录下没有 <code>_data</code> 文件夹请自行创建。</p><p><img src="https://cdn.staticaly.com/gh/XPoet/image-hosting@master/keep-docs/image.4qgvsy4ajt40.png" alt="image"></p><p>这两个文件的关系为 <code>keep.yml</code> 覆盖 <code>_config.yml</code>，也就是说，想要修改配置时，只需要修改 <code>keep.yml</code> 里的即可（修改 <code>_config.yml</code> 里的不会生效）。这样就实现了平滑升级，更新 Keep 主题时 <code>_config.yml</code> （可能）会更新，而你的主题配置数据保留在 <code>keep.yml</code> 中。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>主题更新后，如果主题目录下的 <code>_config.yml</code> 文件里出现了新的配置项，那么你必须从该文件中将它们复制到 <code>/source/_data/keep.yml</code> 中，并设置它们的值为你想要的选项。</p><p>如果你使用了平滑升级这一特性，那么 <code>/themes/keep/_config.yml</code> 和 <code>/source/_data/keep.yml</code> 这两个文件里的选项没有同步，是更新主题后，启动报错的最主要的原因！</p></div><p>有时候，同步 <code>/themes/keep/_config.yml</code> 和 <code>/source/_data/keep.yml</code> 两个配置文件里的内容也比较麻烦。因此，推荐使用代码对比工具进行查看，这样再进行同步就方便多了。例如 VS Code 自带的代码对比工具： <img src="https://cdn.staticaly.com/gh/XPoet/image-hosting@master/keep-docs/image.4c2gxoox3es0.png" alt="image"></p><p>Hexo v5.0 之后，你也可以在 Hexo 项目根目录下创建 <code>_config.keep.yml</code> 文件来实现平滑升级。</p><p>这里作者强烈推荐将主题配置文件放在 <code>_data</code> 文件夹中来实现平滑升级。</p>',10),s=[t];function p(m,i,r,n,l,g){return o(),c("div",null,s)}const f=e(a,[["render",p]]);export{h as __pageData,f as default};
